# 📊 Architecture Diagrams

## 🏗️ System Overview

```
┌─────────────────────────────────────────────────────────────────┐
│                    SENTIMENT ANALYSIS SYSTEM                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │   CLIENT    │    │     API     │    │  DASHBOARD  │         │
│  │   LAYER     │    │   LAYER     │    │   LAYER     │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│         │                   │                   │               │
│         └───────────────────┼───────────────────┘               │
│                             │                                   │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                 PROCESSING PIPELINE                         │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ AUDIO   │ │ SPEECH  │ │SENTIMENT│ │ RESULTS │           │ │
│  │  │PROCESS  │ │ TO TEXT │ │ANALYSIS │ │AGGREGATE│           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                             │                                   │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                   DATA LAYER                               │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │DATABASE │ │  CACHE  │ │  FILES  │ │  LOGS   │           │ │
│  │  │(SQLite/ │ │ (Redis) │ │(Upload/ │ │(System/ │           │ │
│  │  │PostgreSQL│ │         │ │Processed│ │  App)   │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 Processing Flow

```
┌─────────────┐
│ AUDIO FILE  │
│   UPLOAD    │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│  VALIDATION │
│ • File Type │
│ • File Size │
│ • Format    │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│   AUDIO     │
│PROCESSING   │
│ • Load      │
│ • Normalize │
│ • Denoise   │
│ • Trim      │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│TRANSCRIPTION│
│ • Whisper   │
│ • Language  │
│ • Confidence│
│ • Segments  │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│ SENTIMENT   │
│ ANALYSIS    │
│ • Hugging   │
│   Face      │
│ • VADER     │
│ • TextBlob  │
│ • Ensemble  │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│  RESULTS    │
│ • Aggregate │
│ • Store     │
│ • Cache     │
│ • Return    │
└─────────────┘
```

## 🏢 Component Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                        COMPONENT ARCHITECTURE                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    API LAYER                               │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │ FastAPI     │ │ Request     │ │ Response    │           │ │
│  │  │ Application │ │ Handler     │ │ Formatter   │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                   SERVICE LAYER                            │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │Sentiment    │ │ Audio       │ │Transcription│           │ │
│  │  │Analysis     │ │ Processor   │ │ Service     │           │ │
│  │  │Service      │ │             │ │             │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  │  ┌─────────────┐                                           │ │
│  │  │Sentiment    │                                           │ │
│  │  │Analyzer     │                                           │ │
│  │  └─────────────┘                                           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  DATA ACCESS LAYER                         │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │ Database    │ │ Cache       │ │ File        │           │ │
│  │  │ Manager     │ │ Manager     │ │ Manager     │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                   INFRASTRUCTURE                           │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │ SQLite/     │ │ Redis       │ │ File        │           │ │
│  │  │ PostgreSQL  │ │ Cache       │ │ System      │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🗄️ Database Schema

```
┌─────────────────────────────────────────────────────────────────┐
│                        DATABASE SCHEMA                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                   AUDIO_ANALYSES                           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │   ID    │ │Filename │ │File Path│ │File Size│           │ │
│  │  │  (PK)   │ │         │ │         │ │         │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │Duration │ │Transcript│ │Sentiment│ │Sentiment│           │ │
│  │  │         │ │         │ │ Label   │ │ Score   │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │Sentiment│ │Processing│ │Created  │ │Updated  │           │ │
│  │  │Details  │ │ Time     │ │ At      │ │ At      │           │ │
│  │  │(JSON)   │ │         │ │         │ │         │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│                              │ 1:N                              │
│                              ▼                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                 SPEAKER_SEGMENTS                           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │   ID    │ │Analysis │ │Speaker  │ │Start    │           │ │
│  │  │  (PK)   │ │ ID (FK) │ │ ID      │ │ Time    │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │End Time │ │Transcript│ │Sentiment│ │Sentiment│           │ │
│  │  │         │ │         │ │ Label   │ │ Score   │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐                                   │ │
│  │  │Sentiment│ │Created  │                                   │ │
│  │  │Details  │ │ At      │                                   │ │
│  │  │(JSON)   │ │         │                                   │ │
│  │  └─────────┘ └─────────┘                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 Data Flow

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ CLIENT  │───▶│   API   │───▶│ SERVICE │───▶│DATABASE │
│         │    │         │    │         │    │         │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
     ▲              │              │              │
     │              ▼              ▼              ▼
     │         ┌─────────┐    ┌─────────┐    ┌─────────┐
     │         │ CACHE   │    │  AUDIO  │    │  FILES  │
     │         │(Redis)  │    │PROCESSOR│    │(Upload/ │
     │         └─────────┘    └─────────┘    │Processed│
     │              │              │         └─────────┘
     │              ▼              ▼
     │         ┌─────────┐    ┌─────────┐
     │         │TRANSCRIPT│   │SENTIMENT│
     │         │ SERVICE  │   │ANALYZER │
     │         └─────────┘    └─────────┘
     │              │              │
     └──────────────┼──────────────┘
                    ▼
              ┌─────────┐
              │ RESULTS │
              │AGGREGATE│
              └─────────┘
```

## 🚀 Deployment Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    DEPLOYMENT ARCHITECTURE                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    LOAD BALANCER                           │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │   Nginx     │ │   Cloud     │ │   AWS ALB   │           │ │
│  │  │   Proxy     │ │   Load      │ │             │           │ │
│  │  │             │ │   Balancer  │ │             │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  APPLICATION TIER                           │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │   App       │ │   App       │ │   App       │           │ │
│  │  │ Instance 1  │ │ Instance 2  │ │ Instance N  │           │ │
│  │  │             │ │             │ │             │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    DATA TIER                               │ │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │ │
│  │  │ Primary     │ │ Read        │ │ Redis       │           │ │
│  │  │ Database    │ │ Replica     │ │ Cluster     │           │ │
│  │  │(PostgreSQL) │ │             │ │             │           │ │
│  │  └─────────────┘ └─────────────┘ └─────────────┘           │ │
│  │  ┌─────────────┐                                           │ │
│  │  │ Object      │                                           │ │
│  │  │ Storage     │                                           │ │
│  │  │(S3/GCS/Azure)│                                           │ │
│  │  └─────────────┘                                           │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🔐 Security Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                      SECURITY ARCHITECTURE                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐                                               │
│  │   CLIENT    │                                               │
│  │ (User/Bot)  │                                               │
│  └─────┬───────┘                                               │
│        │                                                       │
│        ▼                                                       │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                   SECURITY LAYER                           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Rate    │ │ Input   │ │ File    │ │ Size    │           │ │
│  │  │Limiting │ │Validation│ │Type Val │ │Validation│           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐                                   │ │
│  │  │Authentication│Authorization│                             │ │
│  │  └─────────┘ └─────────┘                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
│        │                                                       │
│        ▼                                                       │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  APPLICATION LAYER                         │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐                       │ │
│  │  │ API     │ │Business │ │ Data    │                       │ │
│  │  │Endpoints│ │ Logic   │ │ Access  │                       │ │
│  │  └─────────┘ └─────────┘ └─────────┘                       │ │
│  └─────────────────────────────────────────────────────────────┘ │
│        │                                                       │
│        ▼                                                       │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                     DATA LAYER                             │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐                       │ │
│  │  │Database │ │ File    │ │ Cache   │                       │ │
│  │  │(Encrypted│ │Storage  │ │(Secure) │                       │ │
│  │  │ at rest)│ │(Secure) │ │         │                       │ │
│  │  └─────────┘ └─────────┘ └─────────┘                       │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 📊 Monitoring Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    MONITORING ARCHITECTURE                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  APPLICATION METRICS                       │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │Request  │ │Processing│ │ Error   │ │ Success │           │ │
│  │  │ Count   │ │ Time     │ │ Rate    │ │ Rate    │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                   SYSTEM METRICS                           │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ CPU     │ │ Memory  │ │ Disk    │ │Network  │           │ │
│  │  │ Usage   │ │ Usage   │ │ Usage   │ │ I/O     │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  BUSINESS METRICS                          │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │Analyses │ │Average  │ │ Model   │ │ User    │           │ │
│  │  │Per Day  │ │Sentiment│ │Performance│ │Activity │           │ │
│  │  │         │ │ Score   │ │         │ │         │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  MONITORING TOOLS                          │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Health  │ │Performance│ │ Error   │ │ Log     │           │ │
│  │  │ Checks  │ │Profiling │ │Tracking │ │Aggregation│           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🎯 Performance Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    PERFORMANCE ARCHITECTURE                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                PERFORMANCE OPTIMIZATION                    │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Model   │ │ Result  │ │ Async   │ │Connection│           │ │
│  │  │ Caching │ │ Caching │ │Processing│ │ Pooling │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐                                   │ │
│  │  │ File    │ │Compression│                                 │ │
│  │  │Streaming│ │         │                                   │ │
│  │  └─────────┘ └─────────┘                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                 RESOURCE MANAGEMENT                        │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Memory  │ │ CPU     │ │ Disk    │ │Network  │           │ │
│  │  │Management│ │Optimization│ │I/O Opt  │ │Optimization│           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                 SCALING STRATEGIES                         │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │Horizontal│ │Vertical │ │ Load    │ │ Auto    │           │ │
│  │  │ Scaling  │ │ Scaling │ │Balancing│ │Scaling  │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🔮 Future Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    FUTURE ARCHITECTURE                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                 CURRENT CAPABILITIES                       │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Audio   │ │Sentiment│ │ Basic   │ │ API     │           │ │
│  │  │Processing│ │Analysis │ │Dashboard│ │ Access  │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                FUTURE ENHANCEMENTS                         │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Real-time│ │Multi-lang│ │Advanced │ │ML Pipeline│           │ │
│  │  │Streaming │ │ Support │ │Analytics│ │         │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐                                   │ │
│  │  │Integration│ │Mobile   │                                   │ │
│  │  │ APIs     │ │Apps     │                                   │ │
│  │  └─────────┘ └─────────┘                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                              │                                  │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                 ADVANCED FEATURES                          │ │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │ │
│  │  │ Speaker │ │ Emotion │ │ Topic   │ │ Custom  │           │ │
│  │  │Diarization│ │Detection│ │Modeling │ │Training │           │ │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │ │
│  │  ┌─────────┐ ┌─────────┐                                   │ │
│  │  │Advanced │ │Predictive│                                   │ │
│  │  │Reporting│ │Analytics│                                   │ │
│  │  └─────────┘ └─────────┘                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 📋 Key Architecture Decisions

### 1. **Modular Design**
- Each component has a single responsibility
- Clear interfaces between modules
- Easy to test and maintain

### 2. **Scalable Architecture**
- Horizontal scaling support
- Stateless design where possible
- Efficient resource utilization

### 3. **Reliable Processing**
- Comprehensive error handling
- Data persistence and backup
- Health monitoring and alerting

### 4. **Security First**
- Input validation and sanitization
- Authentication and authorization
- Secure data transmission and storage

### 5. **Performance Optimized**
- Caching strategies
- Optimized algorithms
- Resource management

### 6. **Future Ready**
- Extensible design
- Plugin architecture
- API-first approach

This architecture provides a solid foundation for a production-ready sentiment analysis system that can scale with business needs while maintaining high performance and reliability. 